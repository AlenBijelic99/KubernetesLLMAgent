<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Main README</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">Main README</h1>
</header>
<h1 id="kubernetes-ai-agent">Kubernetes AI Agent</h1>
<p>A large language model agent capable of monitoring a Kubernetes cluster. This agent can be used to analyse metrics and logs to run diagnostics if any issue is detected, identifying the root cause of the problem. The agent will then provide a solution to the problem and document each step in an incident report.</p>
<p>This project is the result of the Bachelor’s final project by Alen Bijelic during his final year at the School of Engineering and Management, Haute Ecole d’Ingénierie et de Gestion du Canton de Vaud (HEIG-VD). The project was supervised by Prof. Marcel Graf.</p>
<h2 id="agent-workflow">Agent workflow</h2>
<figure>
<img src="img/realisation_langgraphworkflow.png" alt="Graph flow" /><figcaption aria-hidden="true">Graph flow</figcaption>
</figure>
<h2 id="technology-stack">Technology Stack</h2>
<ul>
<li><a href="https://github.com/tiangolo/full-stack-fastapi-template"><strong>Full Stack FastAPI Template</strong></a> for the backend, frontend and DB.</li>
<li><a href="https://langchain-ai.github.io/langgraph/"><strong>LangGraph</strong></a> and <a href="https://www.langchain.com/"><strong>LangChain</strong></a> for the AI agent.</li>
<li><a href="https://cloud.google.com/kubernetes-engine"><strong>Google Kubernetes Engine</strong></a> for the Kubernetes cluster.</li>
<li><a href="https://prometheus.io/"><strong>Prometheus</strong></a> for monitoring.</li>
</ul>
<h2 id="how-to-use-it">How To Use It</h2>
<p>You can <strong>just fork or clone</strong> this repository and use it as is.</p>
<p>✨ It just works. ✨</p>
<h3 id="how-to-use-a-private-repository">How to Use a Private Repository</h3>
<p>If you want to have a private repository, GitHub won’t allow you to simply fork it as it doesn’t allow changing the visibility of forks.</p>
<p>But you can do the following:</p>
<ul>
<li>Create a new GitHub repo, for example <code>my-full-stack</code>.</li>
<li>Clone this repository manually, set the name with the name of the project you want to use, for example <code>my-full-stack</code>:</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone git@github.com:tiangolo/full-stack-fastapi-template.git my-full-stack</span></code></pre></div>
<ul>
<li>Enter into the new directory:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> my-full-stack</span></code></pre></div>
<ul>
<li>Set the new origin to your new repository, copy it from the GitHub interface, for example:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote set-url origin git@github.com:octocat/my-full-stack.git</span></code></pre></div>
<ul>
<li>Add this repo as another “remote” to allow you to get updates later:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote add upstream git@github.com:tiangolo/full-stack-fastapi-template.git</span></code></pre></div>
<ul>
<li>Push the code to your new repository:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push <span class="at">-u</span> origin master</span></code></pre></div>
<h3 id="update-from-the-original-template">Update From the Original Template</h3>
<p>After cloning the repository, and after doing changes, you might want to get the latest changes from this original template.</p>
<ul>
<li>Make sure you added the original repository as a remote, you can check it with:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> remote <span class="at">-v</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>    git@github.com:octocat/my-full-stack.git <span class="er">(</span><span class="ex">fetch</span><span class="kw">)</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="ex">origin</span>    git@github.com:octocat/my-full-stack.git <span class="er">(</span><span class="ex">push</span><span class="kw">)</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="ex">upstream</span>    git@github.com:tiangolo/full-stack-fastapi-template.git <span class="er">(</span><span class="ex">fetch</span><span class="kw">)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="ex">upstream</span>    git@github.com:tiangolo/full-stack-fastapi-template.git <span class="er">(</span><span class="ex">push</span><span class="kw">)</span></span></code></pre></div>
<ul>
<li>Pull the latest changes without merging:</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull <span class="at">--no-commit</span> upstream master</span></code></pre></div>
<p>This will download the latest changes from this template without committing them, that way you can check everything is right before committing.</p>
<ul>
<li><p>If there are conflicts, solve them in your editor.</p></li>
<li><p>Once you are done, commit the changes:</p></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> merge <span class="at">--continue</span></span></code></pre></div>
<h3 id="configure">Configure</h3>
<p>You can then update configs in the <code>.env</code> files to customize your configurations.</p>
<p>Before deploying it, make sure you change at least the values for:</p>
<ul>
<li><code>SECRET_KEY</code></li>
<li><code>FIRST_SUPERUSER_PASSWORD</code></li>
<li><code>POSTGRES_PASSWORD</code></li>
</ul>
<p>You can (and should) pass these as environment variables from secrets.</p>
<p>Read the <a href="./deployment.md">deployment.md</a> docs for more details.</p>
<h3 id="generate-secret-keys">Generate Secret Keys</h3>
<p>Some environment variables in the <code>.env</code> file have a default value of <code>changethis</code>.</p>
<p>You have to change them with a secret key, to generate secret keys you can run the following command:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-c</span> <span class="st">&quot;import secrets; print(secrets.token_urlsafe(32))&quot;</span></span></code></pre></div>
<p>Copy the content and use that as password / secret key. And run that again to generate another secure key.</p>
<h2 id="how-to-use-it---alternative-with-copier">How To Use It - Alternative With Copier</h2>
<p>This repository also supports generating a new project using <a href="https://copier.readthedocs.io">Copier</a>.</p>
<p>It will copy all the files, ask you configuration questions, and update the <code>.env</code> files with your answers.</p>
<h3 id="install-copier">Install Copier</h3>
<p>You can install Copier with:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install copier</span></code></pre></div>
<p>Or better, if you have <a href="https://pipx.pypa.io/"><code>pipx</code></a>, you can run it with:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipx</span> install copier</span></code></pre></div>
<p><strong>Note</strong>: If you have <code>pipx</code>, installing copier is optional, you could run it directly.</p>
<h3 id="generate-a-project-with-copier">Generate a Project With Copier</h3>
<p>Decide a name for your new project’s directory, you will use it below. For example, <code>my-awesome-project</code>.</p>
<p>Go to the directory that will be the parent of your project, and run the command with your project’s name:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">copier</span> copy https://github.com/tiangolo/full-stack-fastapi-template my-awesome-project <span class="at">--trust</span></span></code></pre></div>
<p>If you have <code>pipx</code> and you didn’t install <code>copier</code>, you can run it directly:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pipx</span> run copier copy https://github.com/tiangolo/full-stack-fastapi-template my-awesome-project <span class="at">--trust</span></span></code></pre></div>
<p><strong>Note</strong> the <code>--trust</code> option is necessary to be able to execute a <a href="https://github.com/tiangolo/full-stack-fastapi-template/blob/master/.copier/update_dotenv.py">post-creation script</a> that updates your <code>.env</code> files.</p>
<h3 id="input-variables">Input Variables</h3>
<p>Copier will ask you for some data, you might want to have at hand before generating the project.</p>
<p>But don’t worry, you can just update any of that in the <code>.env</code> files afterwards.</p>
<p>The input variables, with their default values (some auto generated) are:</p>
<ul>
<li><code>project_name</code>: (default: <code>"FastAPI Project"</code>) The name of the project, shown to API users (in .env).</li>
<li><code>stack_name</code>: (default: <code>"fastapi-project"</code>) The name of the stack used for Docker Compose labels and project name (no spaces, no periods) (in .env).</li>
<li><code>secret_key</code>: (default: <code>"changethis"</code>) The secret key for the project, used for security, stored in .env, you can generate one with the method above.</li>
<li><code>first_superuser</code>: (default: <code>"admin@example.com"</code>) The email of the first superuser (in .env).</li>
<li><code>first_superuser_password</code>: (default: <code>"changethis"</code>) The password of the first superuser (in .env).</li>
<li><code>smtp_host</code>: (default: ““) The SMTP server host to send emails, you can set it later in .env.</li>
<li><code>smtp_user</code>: (default: ““) The SMTP server user to send emails, you can set it later in .env.</li>
<li><code>smtp_password</code>: (default: ““) The SMTP server password to send emails, you can set it later in .env.</li>
<li><code>emails_from_email</code>: (default: <code>"info@example.com"</code>) The email account to send emails from, you can set it later in .env.</li>
<li><code>postgres_password</code>: (default: <code>"changethis"</code>) The password for the PostgreSQL database, stored in .env, you can generate one with the method above.</li>
<li><code>sentry_dsn</code>: (default: ““) The DSN for Sentry, if you are using it, you can set it later in .env.</li>
</ul>
<h2 id="backend-development">Backend Development</h2>
<p>Backend docs: <a href="./backend/README.md">backend/README.md</a>.</p>
<h2 id="frontend-development">Frontend Development</h2>
<p>Frontend docs: <a href="./frontend/README.md">frontend/README.md</a>.</p>
<h2 id="deployment">Deployment</h2>
<p>Deployment docs: <a href="./deployment.md">deployment.md</a>.</p>
<h2 id="development">Development</h2>
<p>General development docs: <a href="./development.md">development.md</a>.</p>
<p>This includes using Docker Compose, custom local domains, <code>.env</code> configurations, etc.</p>
<h2 id="license">License</h2>
<p>The Kubernetes AI Agent is licensed under the terms of the MIT license.</p>
</body>
</html>
