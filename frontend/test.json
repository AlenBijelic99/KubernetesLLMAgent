{
  "metric_analyser": {
    "messages": [
      {
        "content": "",
        "additional_kwargs": {
          "tool_calls": [
            {
              "id": "call_34BVjZGdeDPjgwqAAZLAg76W",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"boutique\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_9cxZsf2L8Mry3e73ENayOCe9",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_memory_usage_bytes{namespace=\\\"boutique\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_Q510bHjz3gts2MmeB35b5VD1",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_network_receive_bytes_total{namespace=\\\"boutique\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_YTwiYlQ8gBDGYsb8wBMgCtGN",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\"boutique\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_UXGW2CvjjDHv5GwhxMlvzpxp",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_cpu_usage_seconds_total{namespace=\\\"apm\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_fTIHRgJCAD895T2uh9oLumQQ",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_memory_usage_bytes{namespace=\\\"apm\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_AhNBIkykviDV6pJPQ2kc1cZv",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_network_receive_bytes_total{namespace=\\\"apm\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            },
            {
              "id": "call_3c3tMl5BzCjbVaErZyj2OG0Y",
              "function": {
                "arguments": "{\"query\": \"sum(rate(container_network_transmit_bytes_total{namespace=\\\"apm\\\"}[5m])) by (pod)\"}",
                "name": "execute_prometheus_query"
              },
              "type": "function"
            }
          ]
        },
        "response_metadata": {
          "token_usage": {
            "completion_tokens": 304,
            "prompt_tokens": 1174,
            "total_tokens": 1478
          },
          "model_name": "gpt-4o-2024-05-13",
          "system_fingerprint": "fp_ce0793330f",
          "finish_reason": "tool_calls",
          "logprobs": null
        },
        "type": "ai",
        "name": "metric_analyser",
        "id": "run-e9d5948b-3906-4a1a-86a5-97f751638bf5-0",
        "example": false,
        "tool_calls": [
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_cpu_usage_seconds_total{namespace=\"boutique\"}[5m])) by (pod)"
            },
            "id": "call_34BVjZGdeDPjgwqAAZLAg76W"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_memory_usage_bytes{namespace=\"boutique\"}[5m])) by (pod)"
            },
            "id": "call_9cxZsf2L8Mry3e73ENayOCe9"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_network_receive_bytes_total{namespace=\"boutique\"}[5m])) by (pod)"
            },
            "id": "call_Q510bHjz3gts2MmeB35b5VD1"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_network_transmit_bytes_total{namespace=\"boutique\"}[5m])) by (pod)"
            },
            "id": "call_YTwiYlQ8gBDGYsb8wBMgCtGN"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_cpu_usage_seconds_total{namespace=\"apm\"}[5m])) by (pod)"
            },
            "id": "call_UXGW2CvjjDHv5GwhxMlvzpxp"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_memory_usage_bytes{namespace=\"apm\"}[5m])) by (pod)"
            },
            "id": "call_fTIHRgJCAD895T2uh9oLumQQ"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_network_receive_bytes_total{namespace=\"apm\"}[5m])) by (pod)"
            },
            "id": "call_AhNBIkykviDV6pJPQ2kc1cZv"
          },
          {
            "name": "execute_prometheus_query",
            "args": {
              "query": "sum(rate(container_network_transmit_bytes_total{namespace=\"apm\"}[5m])) by (pod)"
            },
            "id": "call_3c3tMl5BzCjbVaErZyj2OG0Y"
          }
        ],
        "invalid_tool_calls": [],
        "usage_metadata": {
          "input_tokens": 1174,
          "output_tokens": 304,
          "total_tokens": 1478
        }
      }
    ],
    "sender": "metric_analyser"
  }
}